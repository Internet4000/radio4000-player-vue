<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Radio4000 player</title>
		<style>
			/* styles for this demo */
			body {
				margin: 0;
				padding: 2rem;
			}
		</style>

		<script>
			/* defined globally some data for bellow,
			 we will use this in the player */
			var tracks = [
				{
					id: '1',
					title: 'Birds_Polyphonic.ogg',
					url: 'https://upload.wikimedia.org/wikipedia/commons/5/53/Birds_Polyphonic.ogg'
				},
				{
					id: '2',
					title: 'A track with a bad mediaUrl',
					url: '~/me.mp3'
				},
				{
					id: '3',
					title: 'Tittums.ogg',
					url: 'https://upload.wikimedia.org/wikipedia/commons/e/ef/Tittums.ogg'
				},
				{
					title: 'Blue tit',
					url: 'https://upload.wikimedia.org/wikipedia/commons/7/7a/Neural-Correlates-of-Natural-Human-Echolocation-in-Early-and-Late-Blind-Echolocation-Experts-pone.0020162.s021.ogg'
				},
				{
					id: 'OkR7UNnQU6c',
					title: 'youtube',
					url: 'https://www.youtube.com/watch?v=OkR7UNnQU6c'
				},
				{
					title: 'black focus youtube',
					url: 'https://www.youtube.com/watch?v=4D8YPDdsxYU'
				},
				{
					title: 'vimeo1',
					url: 'https://vimeo.com/36579366'
				},
				{
					id: '333244516',
					title: 'vimeo long',
					url: 'https://vimeo.com/333244516'
				},
				{
					title: 'youtube jazz',
					url: 'https://www.youtube.com/watch?v=s0lKUfOAWj8'
				}
				
				
			];

			// a playlist, which includes the tracks
			var playlist = {
				title: 'title for this list',
				image: 'https://78.media.tumblr.com/5080191d7d19fe64da558f2b4324563e/tumblr_p8eoiltn1t1twkjb3o1_1280.png',
				tracks: tracks
			};
		</script>
	</head>
	<body>

		<!-- There are a few different ways to start playing: -->
		<!-- <radio4000-player channel-slug="ko002"></radio4000-player> -->
		<radio4000-player channel-slug="good-time-radio"></radio4000-player>
		<!-- <radio4000-player track-id="-KdVUsr70yYdIoBDmL43"></radio4000-player> -->
		<!-- <radio4000-player channel-slug="oskar"></radio4000-player> -->
		<!-- <radio4000-player channel-id="-KFzPXLNzmKjPGwyY-xx"></radio4000-player> -->

		<!-- tests -->
		<!-- <radio4000-player channel-slug="200ok" autoplay="true"></radio4000-player> -->
		<!-- <radio4000-player channel-slug="200ok" shuffle="true"></radio4000-player> -->

		<!-- dead track link -->
		<!-- <radio4000-player track-id="-JyCMmQETox_SF6-x6Tr"></radio4000-player> -->

		<!-- media is a local audio file-player -->
		<!-- <radio4000-player id="playlist-player"></radio4000-player> -->

		<script>

			/* 
				 an example on how to init a player with:
				 - event listeners
				 - adding a playlist to play, when player is ready
				 For data, look at top of this file
			 */
			var initPlayer = function(playerDom, dataToPlay) {
				// and add event listeners
				playerDom.addEventListener('playerReady', () => {
					console.info('[event:playerReady]');

					var playerVue = playerDom.__vue_custom_element__.$children[0]
					console.log({playerVue})

					if (dataToPlay) {
						playerVue.updatePlaylist(dataToPlay)
					}
				})
				playerDom.addEventListener('trackChanged', (event) => {
		 			console.info('[event:trackChanged]', event.detail[0])
				})
				playerDom.addEventListener('trackEnded', (event) => {
		 			console.info('[event:trackEnded]', event.detail[0])
				})
				playerDom.addEventListener('mediaNotAvailable', (event) => {
		 			console.info('[event:mediaNotAvailable]', event.detail[0])
				})
			}

			// let's target the player we want to initialize with this data
			var $player = document.querySelector('#playlist-player')

			// where we initialize the player
			// with a dom element, and a playlist data.
			// playlist is defined at the top of this file
			if ($player) {
				initPlayer($player, playlist)
			}
		</script>

		<script src="radio4000-player.min.js"></script>

	</body>
</html>
